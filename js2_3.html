<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Speak Prefix Exercise</title>
  </head>
  <body>
    <form>
      <label for="userName">Your Name:</label>
      <input
        type="text"
        id="userName"
        name="userName"
      />

      <input
        type="button"
        id="helloBtn"
        value="Hello"
        name="helloBtn"
      />

      <input
        type="button"
        id="goodbyeBtn"
        value="Good Bye"
        name="goodbyeBtn"
      />

      <input
        type="button"
        id="greetingsBtn"
        value="Greetings"
        name="greetingsBtn"
      />

      <script>
        function buttonFactory() {
          let userInput = "";

          this.updateUserInput = function () {
            this.userInput = document.getElementById("userName").value;
          };

          this.speak = function (prefix) {
            alert(`${prefix} ${this.userInput}`);
          };
        }

        const buttonInstance = new buttonFactory();

        document
          .getElementById("userName")
          .addEventListener("input", () => buttonInstance.updateUserInput());

        document
          .getElementById("helloBtn")
          .addEventListener("click", () => buttonInstance.speak("hello"));

        document
          .getElementById("goodbyeBtn")
          .addEventListener("click", () => buttonInstance.speak("Good Bye"));

        document
          .getElementById("greetingsBtn")
          .addEventListener("click", () => buttonInstance.speak("Greetings"));
      </script>
    </form>
  </body>
</html>
